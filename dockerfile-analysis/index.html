<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.f628065b851287e306e5.css">@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.24.50"/><link rel="alternate" type="application/rss+xml" title="Minimal Blog - @lekoarts/gatsby-theme-minimal-blog" href="/rss.xml"/><title data-react-helmet="true">Nera 와 Rabums 의 Dockerfile 분석하기 | CSUOS@dev_blog</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="안녕하세요, CSUOS 의 DevOps 팀원인 장다래입니다. 리눅스 공부를 하면서 가상머신을 설치해 보셨다면... 도커가 얼마나 편리하고 간편한 도구인지 알 수 있습니다. VM(Virtual machines…"/><meta data-react-helmet="true" name="image" content="https://csuos.github.io/banner.jpg"/><meta data-react-helmet="true" property="og:title" content="Nera 와 Rabums 의 Dockerfile 분석하기"/><meta data-react-helmet="true" property="og:url" content="https://csuos.github.io/dockerfile-analysis"/><meta data-react-helmet="true" property="og:description" content="안녕하세요, CSUOS 의 DevOps 팀원인 장다래입니다. 리눅스 공부를 하면서 가상머신을 설치해 보셨다면... 도커가 얼마나 편리하고 간편한 도구인지 알 수 있습니다. VM(Virtual machines…"/><meta data-react-helmet="true" property="og:image" content="https://csuos.github.io/banner.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="안녕하세요, CSUOS 의 DevOps 팀원인 장다래입니다. 리눅스 공부를 하면서 가상머신을 설치해 보셨다면... 도커가 얼마나 편리하고 간편한 도구인지 알 수 있습니다. VM(Virtual machines…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Nera 와 Rabums 의 Dockerfile 분석하기"/><meta data-react-helmet="true" name="twitter:url" content="https://csuos.github.io/dockerfile-analysis"/><meta data-react-helmet="true" name="twitter:description" content="안녕하세요, CSUOS 의 DevOps 팀원인 장다래입니다. 리눅스 공부를 하면서 가상머신을 설치해 보셨다면... 도커가 얼마나 편리하고 간편한 도구인지 알 수 있습니다. VM(Virtual machines…"/><meta data-react-helmet="true" name="twitter:image" content="https://csuos.github.io/banner.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="안녕하세요, CSUOS 의 DevOps 팀원인 장다래입니다. 리눅스 공부를 하면서 가상머신을 설치해 보셨다면... 도커가 얼마나 편리하고 간편한 도구인지 알 수 있습니다. VM(Virtual machines…"/><meta data-react-helmet="true" name="twitter:creator" content="@CSUOS"/><meta data-react-helmet="true" name="gatsby-theme" content="@lekoarts/gatsby-theme-minimal-blog"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#6B46C1"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link as="script" rel="preload" href="/webpack-runtime-8fbf55e107094d2f025d.js"/><link as="script" rel="preload" href="/framework-85aff51d15c28c7fbe5f.js"/><link as="script" rel="preload" href="/app-6af84a30cae3ff59f0cf.js"/><link as="script" rel="preload" href="/styles-c2fe8482057191dca484.js"/><link as="script" rel="preload" href="/a75e6e4d1b7feebda3ca1479eef2fbcc6776bb12-8adac1661e14dea1795d.js"/><link as="script" rel="preload" href="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-6b8414416c7779eddfc6.js"/><link as="fetch" rel="preload" href="/page-data/dockerfile-analysis/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/318001574.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3787687951.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3787687951.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="1hycliv">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}</style><style data-emotion-css="tm2q0o">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="kcr4c7">*{box-sizing:inherit;}html{-webkit-text-size-adjust:100%;}img{border-style:none;}pre{font-family:monospace;font-size:1em;}[hidden]{display:none;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width:640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion-css="1wt4r56">.css-1wt4r56{margin-bottom:4rem;}@media screen and (min-width:640px){.css-1wt4r56{margin-bottom:8rem;}}</style><header class="css-1wt4r56"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="CSUOS@dev_blog - Back to home" class="css-dz3ojy" href="/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><h1 class="css-1kmktz0">CSUOS@dev_blog</h1></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div><style data-emotion-css="1kvspmd">.css-1kvspmd{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide,#cbd5e0);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-1kvspmd a{color:var(--theme-ui-colors-secondary,#5f6c80);}.css-1kvspmd a:hover{color:var(--theme-ui-colors-heading,#000);}</style><div class="css-1kvspmd"><style data-emotion-css="nrb238">.css-nrb238{font-size:1rem;}.css-nrb238 a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width:640px){.css-nrb238{font-size:18px;}}.css-nrb238 .active{color:var(--theme-ui-colors-heading,#000);}</style><nav class="css-nrb238"><style data-emotion-css="688a3f">.css-688a3f{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-688a3f:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-688a3f" href="/blog">목차</a><a class="css-688a3f" href="/career">공고</a><a class="css-688a3f" href="/about">소개</a><a class="css-688a3f" href="/groundrules">그라운드룰</a></nav><style data-emotion-css="e5k4e3">.css-e5k4e3{font-size:1rem;}.css-e5k4e3 a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width:640px){.css-e5k4e3{font-size:18px;}}</style><div class="css-e5k4e3"><a href="https://github.com/CSUOS" class="css-688a3f">Github</a></div></div></header><style data-emotion-css="ld0m">.css-ld0m [data-name='live-editor']{font-size:1rem;}.css-ld0m [data-name='live-editor'] textarea,.css-ld0m [data-name='live-editor'] pre{padding:1rem !important;}.css-ld0m [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-ld0m .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-ld0m .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-ld0m .prism-code{font-size:1.25rem;}}.css-ld0m .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-ld0m .gatsby-highlight[data-language=''] .prism-code,.css-ld0m .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-ld0m .token{display:inline-block;}.css-ld0m p > code,.css-ld0m li > code{background-color:var(--theme-ui-colors-gray-2,#edf2f7);color:var(--theme-ui-colors-gray-8,#2d3748);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-ld0m .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-ld0m .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-ld0m .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-ld0m .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-ld0m .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-ld0m .gatsby-highlight pre code{float:left;min-width:100%;}.css-ld0m .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-ld0m .gatsby-highlight pre[class~="language-javascript"]:before,.css-ld0m .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-ld0m .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-ld0m .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-ld0m .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-ld0m .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-ld0m .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-ld0m .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-ld0m .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-ld0m .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-ld0m .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-ld0m .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-ld0m .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-ld0m .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-ld0m .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-ld0m .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-ld0m .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-ld0m .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-ld0m .gatsby-highlight pre[class~='language-json']:before,.css-ld0m .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-ld0m .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-ld0m .gatsby-highlight > code[class*="language-"],.css-ld0m .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-ld0m .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-ld0m .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#6b46c1);}.css-ld0m .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-ld0m .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-ld0m .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-ld0m .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-ld0m .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-ld0m .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-ld0m [data-name='live-preview'],.css-ld0m [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-ld0m [data-name='live-preview'],.css-ld0m [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-ld0m [data-name='live-preview'],.css-ld0m [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-ld0m [data-name='live-preview'],.css-ld0m [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-ld0m .token-line{padding-right:1rem;}.css-ld0m .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-ld0m .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-ld0m .react-live-wrapper{position:relative;}.css-ld0m .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-ld0m .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-ld0m .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-ld0m .react-live-wrapper .code-copy-button{right:-1rem;}}</style><style data-emotion-css="27gylk">.css-27gylk{box-sizing:border-box;margin:0;min-width:0;}.css-27gylk [data-name='live-editor']{font-size:1rem;}.css-27gylk [data-name='live-editor'] textarea,.css-27gylk [data-name='live-editor'] pre{padding:1rem !important;}.css-27gylk [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-27gylk .prism-code{font-size:1rem;padding:2rem 1rem 1rem 1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);min-width:100%;margin-bottom:0;margin-top:0;overflow:auto;}@media screen and (min-width:640px){.css-27gylk .prism-code{font-size:1rem;}}@media screen and (min-width:768px){.css-27gylk .prism-code{font-size:1.25rem;}}.css-27gylk .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-27gylk .gatsby-highlight[data-language=''] .prism-code,.css-27gylk .gatsby-highlight[data-language='noLineNumbers'] .prism-code{padding-top:1rem;}.css-27gylk .token{display:inline-block;}.css-27gylk p > code,.css-27gylk li > code{background-color:var(--theme-ui-colors-gray-2,#edf2f7);color:var(--theme-ui-colors-gray-8,#2d3748);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-27gylk .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-27gylk .gatsby-highlight{font-size:1rem;margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-27gylk .gatsby-highlight{font-size:1.25rem;margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-27gylk .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-27gylk .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;min-width:100%;}.css-27gylk .gatsby-highlight pre code{float:left;min-width:100%;}.css-27gylk .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-27gylk .gatsby-highlight pre[class~="language-javascript"]:before,.css-27gylk .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-27gylk .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-27gylk .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-27gylk .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-27gylk .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-27gylk .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-27gylk .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-27gylk .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-27gylk .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-27gylk .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-27gylk .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-27gylk .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-27gylk .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-27gylk .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-27gylk .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-27gylk .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-27gylk .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-27gylk .gatsby-highlight pre[class~='language-json']:before,.css-27gylk .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-27gylk .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-27gylk .gatsby-highlight > code[class*="language-"],.css-27gylk .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-27gylk .gatsby-highlight pre::-webkit-scrollbar{width:0.5rem;height:0.5rem;}.css-27gylk .gatsby-highlight pre::-webkit-scrollbar-thumb{background-color:var(--theme-ui-colors-primary,#6b46c1);}.css-27gylk .gatsby-highlight pre::-webkit-scrollbar-track{background:rgb(1,22,39);}.css-27gylk .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-27gylk .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-27gylk .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-27gylk .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-27gylk .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-27gylk [data-name='live-preview'],.css-27gylk [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}@media screen and (min-width:640px){.css-27gylk [data-name='live-preview'],.css-27gylk [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1rem;}}@media screen and (min-width:768px){.css-27gylk [data-name='live-preview'],.css-27gylk [data-name='live-editor']{margin-left:0;margin-right:0;font-size:1.25rem;}}@media screen and (min-width:1024px){.css-27gylk [data-name='live-preview'],.css-27gylk [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-27gylk .token-line{padding-right:1rem;}.css-27gylk .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-27gylk .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}.css-27gylk .react-live-wrapper{position:relative;}.css-27gylk .react-live-wrapper .code-copy-button{right:0;}@media screen and (min-width:640px){.css-27gylk .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:768px){.css-27gylk .react-live-wrapper .code-copy-button{right:0;}}@media screen and (min-width:1024px){.css-27gylk .react-live-wrapper .code-copy-button{right:-1rem;}}</style><div id="skip-nav" class=" css-27gylk"><style data-emotion-css="19ykez0">.css-19ykez0{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-19ykez0{font-size:2.25rem;}}@media screen and (min-width:768px){.css-19ykez0{font-size:3rem;}}</style><h2 class="css-19ykez0">Nera 와 Rabums 의 Dockerfile 분석하기</h2><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>13.09.2020</time> — <span>3<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="1bkk5q4">.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}</style><p class="css-1bkk5q4">안녕하세요, CSUOS 의 DevOps 팀원인 장다래입니다.</p><p class="css-1bkk5q4">리눅스 공부를 하면서 가상머신을 설치해 보셨다면... 도커가 얼마나 편리하고 간편한 도구인지 알 수 있습니다. VM(Virtual machines)은 전체 운영체제를 복사해서 물리적으로 하드웨어 위에 설치하는 것이기 때문에, 엄청난 용량과 느린 부팅 속도를 갖고 있었죠.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:43.333333333333336%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAB+ElEQVQozz2Q2W8SURjF+ct88cmofXGhD1oTlyeTPljTF7Qara1GuiQEbEtdUmmqFkxXGNxAUk1MYWZkOsxMQWaGKaSz3TtrAYe0XiDxy8nJ757k5H75fJbbQoKWqxuObjq6YUP7qB9qpqtCW9YMWTe6/l+9JzAc30lv2u226ziu69q23el4/RDYTWhaBuyOrukITAg1VUOg6wD951vFlfsblUlMmMCEvj//LAbWK5tF9bjjbRKN2++40QQ3lqDvxMt3V9mxj6XhD/sP1zlgOr7xJH96tjAQIc9HyHNh4kwIv7hQPDWVD2Wkk473nVOfpIWZb7UXGWEiLU5/rYUz/OOUMJeTgOn6gl/EgQgx+JIaXKT8i8VLC8Wh19TZMBHdqbdbbdlq/hZktqE3zGa+Uv+jWhJw8uUDXnO6a8/l6pej1PUl5tZbdvh9GcGNJcYf3VvZldHaWUYb36oGMWEK42c+idNpBNXJ7ep8VgKovKe4qTJIskocFxOEGC8I2L6GEk478v56CbJ+4dXuUAy/GsNvrpDXlvErMdz/Jj+yRnfLWIN7SmVnSzsR5uc89ytU+oH4GZXNybzXOk4fsCOFtQCxfY9MPiqmH5CpALE1im8E6Uy3fGhaIgAShBI0+qpBiBLFstFJJABp5bCkyEhMz5FoReZUFV37H+lssKQo27jzAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="docker-intro" title="docker-intro" src="/static/61f0b83f0f96870af1054da50c81f116/7d769/docker-intro.png" srcSet="/static/61f0b83f0f96870af1054da50c81f116/5243c/docker-intro.png 240w,/static/61f0b83f0f96870af1054da50c81f116/ab158/docker-intro.png 480w,/static/61f0b83f0f96870af1054da50c81f116/7d769/docker-intro.png 960w,/static/61f0b83f0f96870af1054da50c81f116/69b0b/docker-intro.png 1236w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><style data-emotion-css="8as35j">.css-8as35j{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.5rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);}</style><h6 class="css-8as35j">출처 <style data-emotion-css="1od09yo">.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://www.docker.com/resources/what-container" class="css-1od09yo">https://www.docker.com/resources/what-container</a></h6><p class="css-1bkk5q4">하지만 도커의 컨테이너는 운영체제를 직접 가져오는 것이 아니라 원하는 환경의 설정과 패키지 코드를 추상화해서 컨테이너로 만든 것입니다(<del class="css-0">정확한 컨테이너 작동 방법은 저도 잘 모르겠습니다</del>). 어쨌든 기존 VM 보다 빠르고 가볍다는 장점이 있죠.</p><p class="css-1bkk5q4">그리고 이때, <strong class="css-0">Dockerfile</strong> 은 도커 컨테이너를 만들기 위해 필요한 설정 파일입니다. Nera 와 Rabums 프로젝트의 Dockerfile 을 살펴보면서, 도커에 익숙해져 봅시다.</p><style data-emotion-css="12k12li">.css-12k12li{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-12k12li{font-size:2.25rem;}}@media screen and (min-width:768px){.css-12k12li{font-size:3rem;}}</style><h2 class="css-12k12li">Docker 컨테이너 생성하기</h2><p class="css-1bkk5q4">도커 컨테이너를 만들기 위해서는 <strong class="css-0">도커 이미지</strong>를 필요로 하는데, 도커 허브에서 이미지를 다운 받거나, Dockerfile 에 작성된 설정을 통해 직접 이미지를 생성할 수도 있습니다. </p><style data-emotion-css="170hkfz">.css-170hkfz{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.5rem;margin-top:2rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-170hkfz{font-size:1.875rem;}}@media screen and (min-width:768px){.css-170hkfz{font-size:2.25rem;}}</style><h3 class="css-170hkfz">깃허브 Dockerfile 로 이미지 빌드하기</h3><p class="css-1bkk5q4"><code class="css-0">docker build https://github.com/CSUOS/nera.git</code> 명령어를 입력하고 <code class="css-0">docker images</code>를 통해 이미지가 생성되었는지 확인해봅니다.
이미 레포지토리를 받아놨다면, Dockerfile 이 있는 폴더에서 <code class="css-0">docker build .</code> 명령어를 입력합니다.
다양한 옵션을 주고 싶다면 <a href="https://docs.docker.com/engine/reference/commandline/build/" class="css-1od09yo">여기</a>를 참고해주세요.</p><p class="css-1bkk5q4">Dockerfile 안의 명령을 인스트럭션이라고 하는데, <code class="css-0">FROM</code>, <code class="css-0">COPY</code>, <code class="css-0">RUN</code> 등으로 설정을 변경할 수 있습니다. </p><p class="css-1bkk5q4">하나의 인스트럭션을 실행할 때마다, 도커 이미지(Layer)를 생성하고 임시 컨테이너에서 실행하는 과정을 반복합니다. 단계 마다 생성된 임시 컨테이너는 삭제되고, 최종적으로는 하나의 이미지가 생성됩니다. (아래에서 더 자세히 살펴볼게요!)</p><h3 class="css-170hkfz">도커 허브에서 이미지 가져오기</h3><p class="css-1bkk5q4">이미지를 생성하는 데에는 Dockerfile 을 통한 빌드 외에도 도커허브에서 가져오는 방법이 있습니다.
<code class="css-0">docker pull csuos/nera</code> 를 입력하면, csuos 라는 도커 허브 유저의 nera 레포지토리를 가져온다는 의미입니다. </p><h3 class="css-170hkfz">도커 이미지로 컨테이너 실행하기</h3><p class="css-1bkk5q4"><code class="css-0">docker images</code>를 통해 불러온 이미지 목록을 확인해 봅시다. Dockerfile 로 이미지를 빌드하거나, 허브에서 이미지를 가져왔다면 컨테이너를 실행하는 일만 남았습니다.
이미지로 컨테이너를 실행하기 위해서는 <code class="css-0">docker run csuos/nera</code> 를 입력합니다. <code class="css-0">docker ps</code> 를 통해 현재 실행 중인 컨테이너 목록을 확인할 수 있습니다.
<code class="css-0">docker run</code> 과 관련된 옵션도 다양합니다. <a href="https://docs.docker.com/engine/reference/commandline/run/" class="css-1od09yo">참고</a></p><p class="css-1bkk5q4">만약 <code class="css-0">csuos/nera</code> 이미지가 존재하지 않는다면, 도커는 자동으로 허브에서 이미지를 불러오고 실행하게 됩니다.</p><h2 class="css-12k12li">Nera 의 Dockerfile</h2><p class="css-1bkk5q4">앞서 소개했듯이 이미지를 불러오는데에 몇 가지 방법이 존재하지만, 여기서는 <code class="css-0">docker build</code> 를 통해 어떻게 Dockerfile 에서 이미지 레이어가 생성되는지 확인해 보도록 하겠습니다. </p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain"># csuos/nera Dockerfile</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">FROM node:12 as builder</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">WORKDIR /usr/src/app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">COPY ./page/package.json ./</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">RUN yarn</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">COPY ./page/. .</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">RUN yarn build</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">FROM node:12</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">WORKDIR /usr/src/app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">COPY ./server/package.json ./</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">RUN yarn</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">COPY --from=builder /usr/src/app/build /usr/src/app/build</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">COPY ./server/. .</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">EXPOSE 3000</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">CMD [ &quot;yarn&quot;, &quot;start&quot; ]</span></div></code></pre></div><p class="css-1bkk5q4">Nera 프로젝트는 <code class="css-0">/page</code>에 프론트엔드 코드를, <code class="css-0">/server</code>에 백엔드 코드를 작성하는 것으로 나눠서 관리되고 있습니다.  이런 특징은 Dockerfile 에서도 드러나는데요, <code class="css-0">FROM</code> 을 기준으로 <code class="css-0">./page</code>와 <code class="css-0">./server</code> 에서 각각 <code class="css-0">RUN yarn</code> 을 통해 필요한 모듈을 설치하고 있습니다.</p><style data-emotion-css="15rlv7r">.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">FROM</code> 인스트럭션은 <code class="css-0">node:12</code> 라는 <a href="https://docs.docker.com/glossary/#base_image" class="css-1od09yo">base image</a>를 사용하는 것을 명시합니다. 따라서 모든 (base image를 제외한) Dockerfile 은 <code class="css-0">FROM</code> 명령어로 시작해야 합니다.  <code class="css-0">as builder</code>는 이후에 작성된 <code class="css-0">FROM</code> 이나 <code class="css-0">COPY</code> 에서 같은 base image를 사용할때, 일관성을 유지하기 위해 이름을 정해줍니다.</p></li><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">WORKDIR</code> 는 <code class="css-0">COPY</code>, <code class="css-0">RUN</code>, <code class="css-0">CMD</code> 등 인스트럭션 실행을 위한 작업 폴더를 명시합니다. </p></li><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">COPY</code> 는 다음과 같은 형식을 같습니다. </p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">COPY [--chown=&lt;user&gt;:&lt;group&gt;] &lt;src&gt;... &lt;dest&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">COPY [--chown=&lt;user&gt;:&lt;group&gt;] [&quot;&lt;src&gt;&quot;,... &quot;&lt;dest&gt;&quot;]</span></div></code></pre></div><p class="css-1bkk5q4">즉, <code class="css-0">COPY ./page/package.json ./</code> 는 <code class="css-0">./page/package.json</code> 의 내용을 컨테이너의 <code class="css-0">./</code> 에 복사하게 됩니다. </p></li><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">COPY --from=builder /usr/src/app/build /usr/src/app/build</code> 에 작성된 <code class="css-0">--from=builder</code> 는, <a href="https://docs.docker.com/develop/develop-images/multistage-build/" class="css-1od09yo">multi-stage build</a> 를 가능하게 하는 옵션입니다. 앞서 <code class="css-0">node:12</code>를 <code class="css-0">builder</code>로 지정했던 것이 기억 나시나요? 그 환경에서 파일을 가져와서 최종 이미지에 추가하는 역할을 하게 됩니다.</p></li><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">RUN</code> 은 shell 에서 사용하는 명령어를 작성하면, 그대로 실행하게끔 합니다.</p></li><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">EXPOSE</code> 에서는 도커 컨테이너가 어떤 포트에 반응할지를 작성해 놓은 것입니다. 하지만 실제로 포트에 연결하는 것은 아니고, 다만 의도하는 포트번호를 명시할 뿐입니다. 실제로 컨테이너와 포트를 연결하기 위해서는 <code class="css-0">docker run -p 80:80</code> 처럼 컨테이너 실행시 연결을 해야합니다.</p></li><li class="css-0"><p class="css-1bkk5q4"><code class="css-0">CMD</code> 는 컨테이너를 실행할때 제공하는 디폴트 실행 값을 의미합니다. Nera Dockerfile 에서는 <code class="css-0">CMD [ &quot;yarn&quot;, &quot;start&quot; ]</code>을 작성했기에, 컨테이너 실행 시 <code class="css-0">yarn start</code>가 작동될 것으로 예상됩니다.
따라서 Dockerfile 에는 하나의 <code class="css-0">CMD</code>만 있어야 하며, 만약 여러 개일 경우 마지막 <code class="css-0">CMD</code>만 실행이 됩니다. </p></li></ul><p class="css-1bkk5q4">아래부터는 깃허브에 작성된 Dockerfile 을 바탕으로 이미지를 빌드하는 과정을 나열해 보겠습니다.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:610px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:97.50000000000001%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADDklEQVQ4y41Ua08aQRQdsRYQEVEUZIHlsa+ZxRcCiqiIWtv0q+7wkPfyFKG2/f9Jz641saY2TU42k7n33HvmzJ0lytVcKj/Sm6f4+UOqPBDP+uL5Q/x8ol7P1zMd7dO3VPkxkOtFiuNAztw47LrZPUkZCxIHSOhosH08kC5nyvU8kDVX99rI2MqZvv02wi5ad9IaSdyRxK31Td4tvDCfyf3twtDuP1tONzw7jdW91kq6SeK3VhipKcMhc4dccUjc8UL7TRbPJmCmv/yAeO9u07vXAtmTbrjY/aJcWfgz+w1IuDCMnk4gWzgZofPKTtO70wTZrf8HeSvfjxbHqYspjAFzUakuqTWoJa/O9q/O8dJD6HgQO5vAcP9BZ+Ow98aYd8kQDHL0dCyeTtAc9i6p1c2c6WJ1kjRsz/izkDeAiyRyMrJQHOHMqQvLs0C2hyprB50PSgWFcIplHf7VnVoN1+akdZcNqwQEYx7gdvhkFDjsoVDsdIyR2MyayYspFIXti8Tk4FzJ0lQ8nyCaKE2RTNCQfv6++/UnkmCeUBjKGJirueVieQYjcZfs5km5miVKD8r1DJ2wI18+ho6HZLswSpYf1Zsn4WSMowaPB5CAzY1sTyiOsN7M92NnlqOhwlAojtEseDRAmj/TJcH91uZBJ5ntSIW+kOuGMu11VgvQqk+rrtEasKpVfGrFo1b8WjXAaitq1a9WfFplhdWIqBlOydCZIVND0IyYZiQpVxmPaVzUeFTjCcplylOUS5TrjCNqgXHKDBKj3CNzmVlIMYsmUi5QHkc241F7oepWFFUiFByu6zykWRVJWOMumTPdSgUH2TEbQZUjFLHXkIC1aJMjmp2pcYVxIqjGmmxAfFS9Cyt326qRgHibE7HJUB5/xUd10EL2JoFPsSMzkjcjOTORN6N5M3jQdsvcIxle2ViSDOjyKnxd5csKd8rcCikWFjFh4eJYLE2lqzncX8t0l3eaTnb/kdbd6cZHdu/WG8Sa4XeA3wimCvOIGfKkm97dlm+vDeDO/Rn7kdgvxPG3h/EL0z73QU+/NeMAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="dockerfile-analysis-1" title="dockerfile-analysis-1" src="/static/fb5bda5d8911c7c450d9cca9325abff0/574c5/dockerfile-analysis-1.png" srcSet="/static/fb5bda5d8911c7c450d9cca9325abff0/5243c/dockerfile-analysis-1.png 240w,/static/fb5bda5d8911c7c450d9cca9325abff0/ab158/dockerfile-analysis-1.png 480w,/static/fb5bda5d8911c7c450d9cca9325abff0/574c5/dockerfile-analysis-1.png 610w" sizes="(max-width: 610px) 100vw, 610px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-1bkk5q4"><code class="css-0">Step 1/14</code>에서 저는 이미 <code class="css-0">node:12</code> 가 있어 설치가 진행되지 않은 것 같고, <code class="css-0">docker images</code> 를 통해 확인해보면 <code class="css-0">bc72e39bf44c</code> 가 <code class="css-0">node:12</code> 아이디와 일치함을 알 수 있습니다.</p><p class="css-1bkk5q4"><code class="css-0">Step 2/14</code> 에서 <code class="css-0">Using cache</code>가 보여지고, 밑에는 새로운 이미지 아이디가 표시됩니다. 이는 앞서 불러왔던 base image 인 <code class="css-0">node:12</code> 가 담긴 컨테이너에서 <code class="css-0">WORKDIR</code> 작업을 수행하고, 새로운 이미지(<code class="css-0">FROM</code>  + <code class="css-0">WORKDIR</code>)가 담긴 컨테이너를 새로 생성한 것입니다.  </p><p class="css-1bkk5q4">다음 스텝에서도 cache 이미지를 사용하고, 새로운 이미지를 만들면서 최종 이미지 생성을 위해 여러 단계를 거쳐 이미지 레이어를 쌓고 있습니다.</p><p class="css-1bkk5q4"><code class="css-0">Step 4/14: Run yarn</code> 을 수행하고 생긴 <code class="css-0">Running in 684047e13948</code> 이미지는 <code class="css-0">RUN</code> 명령어가 끝나고 <code class="css-0">Removing intermediate container 684047e13948</code> 에서 삭제됩니다.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:612px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:150.83333333333334%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAIAAACjcKk8AAAACXBIWXMAAA7DAAAOwwHHb6hkAAADvUlEQVQ4y4WV+VMaWRSFO7hHjSCCCyhr06IiyL4qiVozlV8jq7I10IAozNTM/1/5XrdxSYKputX1mn7nvXvPPfcgHeS1/dxoL6vJl4+O7MCe6C0f1SVvSfLeECZ/+cPskLZi7Z10fzfd38toB/mRIzPgiI8nDfNZe/20Kbm/SZ4byVd6Cq94voDtiY492QOwnertpjVOcRVGnKJcT32fH/hkS3Q/ntwtKDUyIhYOaya58gK2xrtbcZV95khrM9pmbY3x2uU4kKSwGmoQlrM267VQY16pSAbYkeltp/rGDZvRji3e3cuQhahiN6MtH92+pG0Q8Trt1eO65axjjXVAcvZ6uDkXqPz4/KZCyDPJbwkzRxqbUZV8uHz9tLEUrC8o1XkiUPlp62/YtkSasAp4I9IyniKLWIfFYrDG5e+Bl4+qkEnC1rj6KdyUfGW9ttJzq19n/jPYVRhyD8TSLZikGZxFrJ02Ns5aHLpyfDsLLx3khSqQ19Ff/wYuJ9C2EW4CWD25+xRumSMGeMbNzkwf8EFhdPr1f+VywlXA6NB8oCp5dHl5Z6e9GW2hJ8/FWLmaeorjxcMaV5EzC7L9g7btCdWZG8pfHsmZFFASSGiHPLrAEe+Bd9NdMO7ze8JXfEBnYFZDd7R6LlB9v9XiZuaBmm1JIUxHbmiJqroqv4m2GZt+iR9sZ/uu3NCZEfO0k2I9WAhU7XHVT/1K1eQvzfnLb0IWYdLXki/Rdsc7vqTqjrX9qV4w23eG6ubj2+1Q3aKUzfLNkq9kDpQJi1xak0tW+YbnilxeR/me4gOEBa6mJ3//x2Ino9mSPUZqJ63ZUz1+QT8UxTY+UZTr/B7z2M8PGWQJkvdzQ6jy0i0MoPjgvhhbom3KXjwUaqNzi8E6tDMzxMrx3VKwxvAIXg6vp1QL1Ty34l1gYjdN1gdQ0PPsQW+dSKz9Xx6NVgWuJiSDvJEkTSb4nRPp/Ex5GiNBtsHrqbc4BowHCbthMMJNDmJCETmv9J+FNapPq9Af4GQPAqBEuZo4MhpgdugKqeAH+lOsMb0541UxXp8U1nfq6Rkic+QGDDaf9WF+Mq1nqRilvpoqFJIdui/ujdngFcfFAKkZG0V8wr1nzbPw+sLTVAltx9WNSJvBxNjwapGtXJmpbWduQIicC/f0nG5DO0QIe0kKS17i38fojTDTV/nrvj3wnI/lywlTiVpwErq9FVPpNjcjCcGQLAh7pkrPRWSESP7Zz48QHdcyGNRsGAvGYBAppkVIUuN3V37EBcjBpvfoOySgZUAsMrgaAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="dockerfile-analysis-2" title="dockerfile-analysis-2" src="/static/809cd197703e0b81ffedfd2ec540ae13/80a60/dockerfile-analysis-2.png" srcSet="/static/809cd197703e0b81ffedfd2ec540ae13/5243c/dockerfile-analysis-2.png 240w,/static/809cd197703e0b81ffedfd2ec540ae13/ab158/dockerfile-analysis-2.png 480w,/static/809cd197703e0b81ffedfd2ec540ae13/80a60/dockerfile-analysis-2.png 612w" sizes="(max-width: 612px) 100vw, 612px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-1bkk5q4">나머지 인스트럭션을 실행한 후, <code class="css-0">Successfully built 6d2dc67c16dd</code> 의 이미지 아이디는 Nera 프로젝트의 최종 이미지가 됩니다.</p><p class="css-1bkk5q4">다음 그림에서 생성한 도커 이미지를 확인해보면 이미지 ID 가 <code class="css-0">6d2dc67c16dd</code> 인 이미지를 확인할 수 있습니다.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:765px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:6.25%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAP0lEQVQI12NQdspRtM8WN0/h04/j1Y8UN08WMk5iUA4FIk7taDGzFG7dGCCbXTMKqIZDK5pRJQyIBAwTODSjAHvCC/1pz7YcAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="dockerfile-analysis-3" title="dockerfile-analysis-3" src="/static/a415874dd18d93994f8bdba7f7323b32/08eea/dockerfile-analysis-3.png" srcSet="/static/a415874dd18d93994f8bdba7f7323b32/5243c/dockerfile-analysis-3.png 240w,/static/a415874dd18d93994f8bdba7f7323b32/ab158/dockerfile-analysis-3.png 480w,/static/a415874dd18d93994f8bdba7f7323b32/08eea/dockerfile-analysis-3.png 765w" sizes="(max-width: 765px) 100vw, 765px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><p class="css-1bkk5q4">임의로 레포지토리와 태그를 설정해주었습니다. (레포지토리 이름은 csuos/nera 처럼 유저이름이 앞에 있는게 좋아요. 아래 그림은 잘못된 예입니다. 유저이름이 붙지 않은 레포지토리-<em class="css-0">ubuntu:14.04 처럼</em>-는 오피셜 레포지토리에 사용한다고 합니다. )</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:763px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:8.333333333333332%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAeklEQVQI12PQ8y7RdCuUtkqWt42TsU5TdsgRMEyQsEgTMUkSM0sRNEwQMIgHijCphjGrhbNqRDKqhDEohQBJIJeBTz+OSTWcRS2CQTlUxDRJziYDJKcUwiAXJGaSpOlaIGWZxq0Tw6AQLGycqOVeKG6WAtQCVMNvEA8AF/QY3Rw0CJkAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="dockerfile-analysis-4" title="dockerfile-analysis-4" src="/static/d59f52933e32238999a741bcccceb433/e1355/dockerfile-analysis-4.png" srcSet="/static/d59f52933e32238999a741bcccceb433/5243c/dockerfile-analysis-4.png 240w,/static/d59f52933e32238999a741bcccceb433/ab158/dockerfile-analysis-4.png 480w,/static/d59f52933e32238999a741bcccceb433/e1355/dockerfile-analysis-4.png 763w" sizes="(max-width: 763px) 100vw, 763px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><h2 class="css-12k12li">Rabums 의 Dockerfile</h2><p class="css-1bkk5q4">Rabums 프로젝트는 Dockerfile 만 살펴보도록 하겠습니다.</p><div class="gatsby-highlight" data-language=""><pre class="prism-code language-" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><code class="language-"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain"># csuos/rabums Dockerfile</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">FROM node:12 as nuxt-builder</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">WORKDIR /usr/src/app</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">COPY ./rabums_view/package.json ./</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">RUN yarn</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">COPY ./rabums_view/. .</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">RUN yarn generate</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">FROM golang:1.14 as go-builder</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">WORKDIR $GOPATH/src/github.com/CSUOS/rabums</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">COPY . .</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">RUN GO111MODULE=on CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build -v -mod=readonly -o /go/bin/rabums cmd/*.go</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">FROM alpine:3.11.3</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">RUN apk update &amp;&amp; apk add ca-certificates &amp;&amp; rm -rf /var/cache/apk/*</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">COPY --from=go-builder /go/bin/rabums /bin/rabums</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">COPY --from=nuxt-builder /usr/src/app/dist/. /dist/.</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token plain">CMD [&quot;/bin/rabums&quot;]</span></div></code></pre></div><p class="css-1bkk5q4">Rabums 프로젝트는 <code class="css-0">FROM</code> 인스트럭션이 3개네요. 각각 <code class="css-0">node:12</code>, <code class="css-0">golang:1.14</code>, <code class="css-0">alpine:3.11.3</code>을 사용하고 있습니다. 각각의 이미지에서 작업 폴더를 설정(<code class="css-0">WORKDIR</code>)해 필요한 파일들을 복사(<code class="css-0">COPY</code>)하고 실행(<code class="css-0">RUN</code>)하는 것을 알 수 있습니다. </p><p class="css-1bkk5q4"><code class="css-0">RUN apk update &amp;&amp; apk add ca-certificates &amp;&amp; rm -rf /var/cache/apk/*</code> 처럼 여러개의 <code class="css-0">RUN</code> 인스트럭션을 사용하는 대신,  <code class="css-0">&amp;&amp;</code> 를 사용해 이미지 레이어 생성과정을 줄인 점도 눈여겨 볼 수 있습니다.</p><p class="css-1bkk5q4">마지막 두 줄의 <code class="css-0">COPY</code> 인스트럭션에서는 앞서 작업한 <code class="css-0">node:12</code>와 <code class="css-0">golang:1.14</code> 이미지에서 작업했던 결과를 <code class="css-0">alpine:3.11.3</code> 의 이미지에 추가하여 하나의 파일을 만들고 있습니다. <code class="css-0">COPY --from=go-builder /go/bin/rabums /bin/rabums</code> 에서는 <code class="css-0">/go/bin/rabums</code>에서 하나의 바이러니 파일만 <code class="css-0">/bin/rabums</code> 에 옮기고, <code class="css-0">COPY --from=nuxt-builder /usr/src/app/dist/. </code>에서는 <code class="css-0">/usr/src/app/dist/.</code> dist 폴더의 파일들(js, html, 등등..)을 <code class="css-0">/dist/.</code>로 옮겨 최종 이미지를 만들게 됩니다. </p><p class="css-1bkk5q4">앞의 Nera 에서도 multi stage build 를 통해 다른 작업 환경의 결과물을 이미지에 추가했는데, 왜 이렇게 해야할까요? 자세한 내용은 <a href="https://docs.docker.com/develop/develop-images/multistage-build/" class="css-1od09yo">여기</a>에서 확인할 수 있지만, 간단하게 설명해보겠습니다. </p><p class="css-1bkk5q4">도커 17.05 이전 버전에서 여러 작업 환경의 결과물들을 하나로 합치려면 여러 개의 인스트럭션을 사용해야 했습니다. 앞서 설명했듯이, 인스트럭션 하나당 컨테이너 하나를 생성하고 이미지를 커밋하는 과정이 필요하기 때문에, 용량도 커지고 속도도 느려지게 되는 것이지요. Nera 나 Rabums 에 사용된 multi stage build 는 이런 단점을 보완하기 위해 캐시를 통해 이미지를 빌드합니다. 덕분에 최종 이미지 크기를 줄이고, 속도도 향상되어 이미지를 빌드할 수 있게 됩니다.</p><h2 class="css-12k12li">Dockerfile 작성을 할 때..</h2><p class="css-1bkk5q4">글을 살펴보았을 때, Dockerfile 을 작성하기 위해선 <strong class="css-0">효율성</strong>에 중심을 두어야 한다는 걸 알 수 있습니다. 인스트럭션을 적게 사용해야하고, 많이 사용할 경우 <code class="css-0">&amp;&amp;</code> 을 사용해 한 줄의 명령어로 해결할 수 있도록 해야합니다. 또한 multi stage build 를 통해 파일을 캐싱할 경우 더 적은 용량으로 이미지를 만들 수 있습니다. </p><p class="css-1bkk5q4">이번 글을 통해 Dockerfile 과 Docker 에 대한 이해를 도왔기를 바라며, 이만 글을 마치겠습니다. 😉</p></section><div shortname="csuos" config="[object Object]" id="disqus_thread"></div></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2020<!-- --> by <!-- -->CSUOS@dev_blog<!-- -->. All rights reserved.</div><div><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog" class="css-688a3f">Theme</a> <!-- -->by<!-- --> <a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de/en" class="css-688a3f">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-176400990-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/dockerfile-analysis";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-0b022b024de00896c0c7.js"],"app":["/app-6af84a30cae3ff59f0cf.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d731f33f2b184998b449.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-48b592827feefe52470e.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-homepage-query-tsx-faeafaf2fc7046d6fb8e.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-01cd2e2b686e51498003.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-6b8414416c7779eddfc6.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-a13d0faf352eac25e38a.js"]};/*]]>*/</script><script src="/polyfill-0b022b024de00896c0c7.js" nomodule=""></script><script src="/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx-6b8414416c7779eddfc6.js" async=""></script><script src="/a75e6e4d1b7feebda3ca1479eef2fbcc6776bb12-8adac1661e14dea1795d.js" async=""></script><script src="/styles-c2fe8482057191dca484.js" async=""></script><script src="/app-6af84a30cae3ff59f0cf.js" async=""></script><script src="/framework-85aff51d15c28c7fbe5f.js" async=""></script><script src="/webpack-runtime-8fbf55e107094d2f025d.js" async=""></script></body></html>